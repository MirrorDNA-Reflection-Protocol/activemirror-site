<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Active Mirror â€” Taste Reflection Demo</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <!-- Reuse main site styles -->
    <link rel="stylesheet" href="/styles.css">
    <link rel="stylesheet" href="demo.css">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- App Logic -->
    <script type="module" src="demo.js"></script>
</head>

<body>

    <!-- Navigation (Will be updated by script, but barebones for now) -->
    <nav>
        <div class="container nav-content">
            <a href="/" class="logo" aria-label="Active Mirror Home"><img src="/assets/logo.png" alt=""
                    style="height: 28px; vertical-align: middle; margin-right: 8px; filter: invert(1);">Active
                Mirror</a>
            <div class="nav-links">
                <a href="/demo/" style="color:var(--text-primary); font-weight:500;">Demo</a>
                <a href="/mobile/">Mobile</a>
                <a href="/architecture/">Architecture</a>
                <a href="/research/">Research</a>
                <a href="/open-source/">Open Source</a>
                <a href="https://mirrordna-reflection-protocol.github.io/MirrorDNA-Docs/" target="_blank">Docs</a>
                <a href="/blog/">Blog</a>
            </div>
        </div>
    </nav>

    <main class="demo-layout">

        <!-- Left: Chat Interface -->
        <section class="chat-section">

            <!-- System Status Bar -->
            <div class="system-status-bar">
                <div class="status-item"><span class="indicator online"></span> M4 Hub</div>
                <div class="status-item"><span class="indicator online"></span> M1 Adversary</div>
                <div class="status-item"><span class="indicator online blink"></span> Browser Kernel</div>
            </div>

            <!-- Pre-load Hero (Unmissable) -->
            <div id="pre-load-hero" class="pre-load-hero">
                <div class="hero-glyph">âŸ¡</div>
                <h2>Experience Sovereign AI</h2>
                <p>This model runs entirely in your browser.<br>Your data never leaves your device.</p>
                <div id="progress-bar-container" style="display:none; width: 300px; margin: 20px auto;">
                    <div id="progress-bar"
                        style="width:0%; height:4px; background:var(--accent-color); transition:width 0.2s;"></div>
                    <div id="progress-text" style="font-size:0.8rem; margin-top:4px; opacity:0.7;">0%</div>
                </div>
                <button id="init-btn" class="btn-hero pulse">
                    Load Model
                </button>
                <span id="download-status" class="model-info">~700MB Â· ~60 seconds Â· WebGPU required</span>
            </div>

            <!-- Chat History (Hidden initially) -->
            <div id="chat-history" class="chat-history" style="display: none;">
                <div class="message system">
                    <div class="message-content">
                        <strong>âŸ¡ System Initialized</strong><br>
                        Model: <span class="mono">Llama-3.2-1B-Instruct-q4f16_1-MLC</span><br>
                        Status: <span style="color:#10b981">Ready.</span>
                    </div>
                </div>
            </div>

            <!-- Input Area -->
            <div class="chat-input-area">
                <div class="toolbar">
                    <label class="toggle-switch">
                        <input type="checkbox" id="red-team-toggle">
                        <span class="slider"></span>
                        <span class="label-text">Red Team Critique</span>
                    </label>
                    <div class="stats">
                        <span id="latency-stat" class="stat">âš¡ 0ms</span>
                        <span id="carbon-stat" class="stat">ðŸŒ± 0g CO2</span>
                    </div>
                </div>
                <div class="input-group">
                    <textarea id="user-input" placeholder="Type a message..." rows="1" disabled></textarea>
                    <button id="send-btn" disabled aria-label="Send">â†‘</button>
                </div>
                <div class="disclaimer">Running LOCALLY in your browser. Data never leaves this device.</div>
            </div>

        </section>

        <!-- Right: Controls & Context -->
        <aside class="controls-section">
            <div class="panel">
                <h3>MirrorMesh Demo</h3>
                <p class="desc">Experience sovereign AI. Efficient, local, and reflective.</p>

                <h4>Suggested Prompts</h4>
                <div class="suggested-prompts">
                    <button class="prompt-btn" data-prompt="Should I raise VC funding?">Should I raise VC
                        funding?</button>
                    <button class="prompt-btn" data-prompt="Help me think through a career change">Career
                        Change</button>
                    <button class="prompt-btn" data-prompt="What makes Active Mirror different?">Why Active
                        Mirror?</button>
                    <button class="prompt-btn" data-prompt="Validate my idea">Validate Idea</button>
                </div>

                <div class="divider"></div>

                <h4>What's Different?</h4>
                <div class="difference-list">
                    <div class="diff-item">
                        <span class="diff-icon">â–³</span>
                        <span>Asks before advising</span>
                    </div>
                    <div class="diff-item">
                        <span class="diff-icon">â—ˆ</span>
                        <span>Tags confidence: FACT / ESTIMATE</span>
                    </div>
                    <div class="diff-item">
                        <span class="diff-icon">â§‰</span>
                        <span>Frameworks over opinions</span>
                    </div>
                    <div class="diff-item">
                        <span class="diff-icon">âŸ¡</span>
                        <span>Runs locally â€” data stays yours</span>
                    </div>
                </div>

                <div class="divider"></div>

                <div class="action-buttons">
                    <button id="export-btn" class="btn btn-secondary full-width">
                        <span class="icon">â§‰</span> Save Your Mirror
                    </button>
                    <a href="https://id.activemirror.ai" target="_blank" class="btn btn-primary full-width">
                        <span class="icon">âŸ¡</span> Create Full Identity â†’
                    </a>
                    <a href="/install.sh" target="_blank" class="btn btn-primary full-width">
                        <span class="icon">âš¡</span> Fork Stack (install.sh)
                    </a>
                </div>
            </div>
        </aside>

    </main>

</body>

</html>